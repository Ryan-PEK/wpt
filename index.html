<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>WPT Slides</title>

    <meta name="description" content="Web Performance Testing Theory and Methods">
    <meta name="author" content="Lei Liu">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Shadows+Into+Light|Courgette' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <style>
    .my_slide_img {
        width:800px;
    }
    </style>

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
    if (window.location.search.match(/print-pdf/gi)) {
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'css/print/pdf.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    }
    </script>

    <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
</head>

<body>

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>
                <h1>Front-End Performance Testing</h1>
                <p>
                    Lei Liu</small>
                </p>
            </section>

            <section>
                <h1>Topics</h1>
                <ul>
                    <li>Performance is Important</li>
                    <li>Following best practice from beginning</li>
                    <li>Performance Metrics for Customer</li>
                    <li>How To Measure</li>
                    <li>Monitor System Design</li>
                    <li>Best Practice</li>
                    <li>Q/A</li>
                </ul>
            </section>

            <!-- Example of nested vertical slides -->
            <section>
                <section>
                    <h2>Performance is important!</h2>
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/why_number.PNG" alt="performance benifit numbers">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/why_reason.PNG" alt="bad performance UE">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/why_wpo.PNG" alt="WPO benifit">
                </section>
            </section>

            <section>
                <section>
                    <img class="my_slide_img" src="slide_img/how_wpo.PNG" alt="How to do WPO">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/back_and_front.PNG" alt="front side No1">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/14_rules.PNG" alt="14 rules">
                </section>
                <section>
                    <h2>Maximizing Parallel Downloads</h2>
                    <p>
                        Our rule of thumb is to increase the number of parallel downloads by using at least two, but no more than four hostnames. Once again, this underscores the number one rule for improving response times: reduce the number of components in the page.
                    </p>
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/wpo_not_easy.PNG" alt="hard but doable">
                </section>
            </section>

            <section>
                <section>
                    <h2>Front-end Metrics</h2>
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/progressive_render.PNG" alt="progressive render">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/progressive_render_example.png" alt="progressive render example">
                </section>
                <section>
                    <p>
                        <small>Four stages in the front-end execution process are commonly noted:</small>
                    </p>
                    <ul>
                        <li>Time to Title</li>
                        <li>Time to Start Render</li>
                        <li>Time To Display</li>
                        <li>Time to Interact</li>
                    </ul>
                </section>
                <section>
                    <h2>Time to Title</h2>
                    <p>
                        Time To Title is the time elapsed from the moment a visitor’s browser requests your site to the moment that your site’s title appears in the tab of his or her browser.
                    </p>
                    <p>
                        <small>Time To Title is largely dictated by your backend performance—that is, how fast your website’s content is delivered from your origin server to the visitor’s browser.</small>
                    </p>
                    <p>
                        <small>Time To Title is the first indication to the visitor that your site exists and is on the way. When users see the title appear promptly they are apt to be patient throughout the load process.</small>
                    </p>
                </section>
                <section>
                    <h2>Time to Start Render</h2>
                    <p>
                        Time to Start Render is the time elapsed from the request to when the visitor sees actual website content appear on the page.
                    </p>
                    <p>
                        <small>Nobody likes staring at a blank page. Assuring visitors that they are in the right place and will be soon seeing the content they expect will promote a good perception of your website.</small>
                    </p>
                </section>
                <section>
                    <h2>Time To Display</h2>
                    <p>
                        Time To Display is the time elapsed from the request to when the browser has finished parsing the HTML page, constructed the Document Object Model (DOM), and displayed the HTML document.
                    </p>
                    <p>
                        <small>This all means that the page will look like a web page, but there may be some images, interactive elements, and other media that haven’t fully loaded.</small>
                    </p>
                </section>
                <section>
                    <h2>Time To Interact</h2>
                    <p>
                        Time To Interact is the time elapsed from the request to the moment the user can interact with the page.
                    </p>
                    <p>
                        <small>This does not mean that the page is fully loaded, as there may be scripts, trackers, and other assets that continue to load in the background. But it does mean that the almighty visitor can use the web page, and that’s an important moment. Many site owners choose Time To Interact as the principle index for overall web performance because of its relationship with user experience.</small>
                    </p>
                </section>

            </section>

            <section>
                <section>
                    <img class="my_slide_img" src="slide_img/measure_it.PNG" alt="If you cannot measure it, you cannot improve it.">
                </section>
                <section>
                    <h2>Solutions - Level 1</h2>
                    <ul>
                        <li>Your own scripts with curl, wget..</li>
                        <ul>
                            <li>
                                <small>curl -o /dev/null -s -w "%{time_total}" "http://www.google.com/"</small>
                            </li>
                        </ul>
                        <li>AB Apache Bench</li>
                        <ul>
                            <li>
                                <small>ab -n 10 -c 10 http://www.google.com/</small>
                            </li>
                        </ul>
                        <li>HTTPPerf</li>
                        <ul>
                            <li>
                                <small>httperf --hog --server=www.google.com --num-conns=100 --rate=10 --timeout=5</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 2</h2>
                    <ul>
                        <li>JMeter (Java based)</li>
                        <ul>
                            <li>
                                <small>Quite good, Nice GUI, distributed!</small>
                            </li>
                            <li>
                                <small>But JVM mem and consumption!</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 2</h2>
                    <ul>
                        <li>Gatling-Tools</li>
                        <ul>
                            <li>
                                <small>JVM, scala, looks promising..using the akka actor principle for concurrency - instead of normal threads - similar to erlang</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 3</h2>
                    <ul>
                        <li>YSlow/PageSpeed</li>
                        <ul>
                            <li>
                                <small>Chrome/Firefox Plugin</small>
                            </li>
                            <li>
                                <small>Analyze according to best practice design and coding rules.</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 3</h2>
                    <ul>
                        <li>WebPageTest</li>
                        <ul>
                            <li>
                                <small>www.webpagetest.org / private instance</small>
                            </li>
                            <li>
                                <small>Run a free website speed test from multiple locations around the globe using real browsers (IE and Chrome) and at real consumer connection speeds.</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 3</h2>
                    <ul>
                        <li>PhantomJS</li>
                        <ul>
                            <li>
                                <small>PhantomJS is a headless WebKit scriptable with a JavaScript API.</small>
                            </li>
                            <li>
                                <small>confess.js - A small script library that uses PhantomJS 1.2 (or later) to headlessly analyze web pages.</small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 4</h2>
                    <ul>
                        <li>TcpCopy</li>
                        <ul>
                            <li>
                                <small>TCPCopy是一种请求复制（所有基于tcp的packets）工具，可以把在线流量导入到测试系统中去。 曾经应用于网易的广告投放系统，urs系统，nginx hmux协议等系统，避免了上线带来的很多问题。 现在此工具已经广泛应用于各大互联网公司。
                                </small>
                            </li>
                        </ul>
                    </ul>
                </section>
                <section>
                    <h2>Solutions - Level 4</h2>
                    <ul>
                        <li>Get Data from Real Customer ---- Inject JS Into Page</li>
                        <ul>
                            <li>
                                <small>boomerang ---- boomerang is a piece of javascript that you add to your web pages, where it measures the performance of your website from your end user's point of view. It has the ability to send this data back to your server for further analysis. With boomerang, you find out exactly how fast your users think your site is.
                                </small>
                            </li>
                        </ul>
                    </ul>
                </section>
            </section>

            <section>
                <section>
                    <h2>Monitor System Desing</h2>
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/browser_flow.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/browser_flow_connection.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_start.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_blank_0.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_blank_1.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_display_0.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_display_1.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_display_2.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_interactive.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/time_onload.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/timing_api.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/user_network.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/user_network_1.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/data_visulization.PNG" alt=" ">
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/google_wpt_result.png" alt=" ">
                </section>
            </section>

            <section>
                <section>
                    <h2>Best Practice</h2>
                </section>
                <section>
                    <img class="my_slide_img" src="slide_img/best_practice.PNG" alt=" ">
                </section>
            </section>

            <section>
                <h1>Q/A</h1>
            </section>

            <section>
                <h1>THE END</h1>
                <h3>BY Lei Liu</h3>
            </section>

        </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [{
            src: 'lib/js/classList.js',
            condition: function() {
                return !document.body.classList;
            }
        }, {
            src: 'plugin/markdown/marked.js',
            condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
        }, {
            src: 'plugin/markdown/markdown.js',
            condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
        }, {
            src: 'plugin/highlight/highlight.js',
            async: true,
            callback: function() {
                hljs.initHighlightingOnLoad();
            }
        }, {
            src: 'plugin/zoom-js/zoom.js',
            async: true,
            condition: function() {
                return !!document.body.classList;
            }
        }, {
            src: 'plugin/notes/notes.js',
            async: true,
            condition: function() {
                return !!document.body.classList;
            }
        }]
    });
    </script>

    <script>
    window.scrollback = {
        streams: ["leiliu-wpt"],
        theme: 'light',
        ticker: true
    };

    /***** don't edit below *****/
    (function(d, s, h, e) {
            e = d.createElement(s);
            e.async = 1;
            e.src = h + '/client.min.js';
            scrollback.host = h;
            d.getElementsByTagName(s)[0].parentNode.appendChild(e);
        }
        (document, 'script', (location.protocol == "https:" ? "https:" : "http:") + '//scrollback.io'));
    </script>

    <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-27770157-3', 'ryan-pek.github.io');
    ga('send', 'pageview');
    if (window.performance && window.performance.timing) {
        var timeSpent = window.performance.timing.domInteractive - window.performance.timing.connectStart;
        ga('send', 'timing', 'WPT', 'Time To Interact', timeSpent);
    }
    </script>

    <script src='https://cdn.firebase.com/js/client/1.0.17/firebase.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
    <script>
    var myDataRef = new Firebase('https://yuri-controller.firebaseio.com/');
    var revealjs = myDataRef.child('revealjs');
    revealjs.on('value', function(snapshot) {
        var revealAction = snapshot.val().action;
        if (revealAction == "stay") return;
        eval("Reveal." + revealAction + "()");
        revealjs.update({
            action: 'stay'
        });
    });
    </script>

</body>

</html>
